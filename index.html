<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>
    ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•
  </title>

  <!-- Bootstrap core CSS -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons-wind.min.css" integrity="sha256-huyMLXBzKbUp+a2DHlEUmuJSmc2SQZiu/jbpELjYGSE=" crossorigin="anonymous" />

  <!-- Custom styles for this template -->
  <link href="style.css" rel="stylesheet">
  <link href="weather-icons.css" rel="stylesheet">
  <link href="weather-icons.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href='https://fonts.googleapis.com/css?family=Great+Vibes' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900' rel='stylesheet' type='text/css'>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- favicon -->
  <link rel="icon" type="image/png" href="img/favicon.ico">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
  <div class="site-wrapper video-background">
    <a id="bgndVideo" class="player" data-property="{videoURL:'https://www.youtube.com/watch?v=2Gg6Seob5Mg', containment:'body', autoPlay:true, mute:true, startAt:1, opacity:1, }"></a>
    <script>
      var now = new Date();
      var hours = now.getHours();
      var vid = "";
      if (hours >= 0 && hours <= 5) {
        vid = "https://www.youtube.com/watch?v=p8X8ZIBUjXw";
      } else if (hours >= 6 && hours <= 11) {
        vid = "https://www.youtube.com/watch?v=e-pwHao2Cdk";
      } else if (hours >= 12 && hours <= 17) {
        vid = "https://www.youtube.com/watch?v=2XX5zDThC3U";
      } else if (hours >= 18 && hours <= 24) {
        vid = "https://www.youtube.com/watch?v=2Gg6Seob5Mg";
      }
      document.getElementById("bgndVideo").setAttribute("data-property", `{videoURL:'${vid}', containment:'body', autoPlay:true, mute:true, startAt:1, opacity:1, }`);
    </script>

    <div class="overlay"></div>
    <div class="site-wrapper-inner">
      <div class="masthead clearfix">
        <div class="inner">
          <nav>
            <ul class="nav masthead-nav">
              <div className="text-right top-right weather" margin=>
                <div>
                  <h1>
                    <p id="weatheri" />&nbsp;<span id="weather" />
                    <span id="temperature"></span>
                    &nbsp;
                  </h1>
                </div>
                <h5 id="location" />
              </div>
            </ul>
          </nav>
        </div>
      </div>
      <script>
        // Richmond
        fetch("https://api.openweathermap.org/data/2.5/weather?id=6122085&appid=206451a80a04fd83a77bb7420b49d2e3")
          .then(resp => resp.json())
          .then(resp => {
            document.getElementById("location").innerHTML = resp.name;
            document.getElementById("weatheri").className = `wi ${determineWeatherCondition(resp.weather[0].main)}`;
            document.getElementById("temperature").innerHTML = Math.round(resp.main.temp - 273.15) + "&nbsp;&#8451;";
          });

        function determineWeatherCondition(str) {
          switch (str) {
            case 'Rain':
              return 'wi-day-rain';
            case 'Thunderstorm':
              return 'wi-day-thunderstorm';
            case 'Drizzle':
              return 'wi-day-showers';
            case 'Extreme':
              return 'wi-day-snow-thunderstorm';
            case 'Snow':
              return 'wi-day-snow';
            case 'Clouds':
              return 'wi-day-cloudy';
            case 'Clear':
              return 'wi-day-sunny';
            default:
              return null;
          }
        }
      </script>

      <div class="cover-container">
        <div class="inner cover">
          <h1 class="cover-heading">ðŸ¥° Iris & Tom ðŸ¥°</h1>
          <h1>
            <span>Day</span>
            <span id="date" />
            <!-- TODO Random Pic Bank with hashing for duplicate detection -->
            <!-- Display day and caption -->
          </h1>
          <div className="block-text">
            <h2 id="time" />
          </div>
          <script type="text/javascript">
            // Lmao JS uses 0-11 index for months
            var start = new Date(2020, 08, 16);
            var now = new Date();
            var diff = now.getTime() - start.getTime();
            var days = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById("date").innerHTML = days;

            setTime();
            setInterval(() => {
              setTime();
            }, 1000);

            function setTime() {
              var time = new Date();
              var hr = time.getHours();
              var min = time.getMinutes();

              var ampm = "AM";
              if (hr > 12) {
                ampm = "PM";
                hr -= 12;
              }
              if (min < 10) {
                min = "0" + min;
              }

              var colon = "&nbsp";
              if (time.getSeconds() % 2 == 0) {
                colon = ":";
              }
              document.getElementById("time").innerHTML = `${hr} ${colon} ${min} ${ampm}`;
            }
          </script>
        </div>
      </div>

    </div>
  </div>

  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  <!-- Bootstrap core JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

  <!-- Plugins and Custom JavaScript -->
  <script src="js/device.min.js"></script>
  <script src="js/jquery.mb.YTPlayer.js"></script>
  <script src="js/custom.js"></script>

</body>

</html>